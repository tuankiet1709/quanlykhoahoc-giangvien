"use strict";(self.webpackChunkcnpmnc_project=self.webpackChunkcnpmnc_project||[]).push([[1],{3513:function(e,n,r){var a=r(1413),t=r(885),i=(r(2791),r(5705)),s=r(7528),l=r(9513),c=r.n(l),o=r(184);n.Z=function(e){var n=(0,i.U$)(e),r=(0,t.Z)(n,3),l=r[0],u=r[1],d=u.error,h=u.touched,m=(u.value,r[2].setValue),f=e.id,v=e.label,b=e.isrequired,g=(e.notvalidate,e.maxDate),p=e.minDate,N=e.filterDate;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"mb-3 row",children:[(0,o.jsxs)("label",{className:"col-4 col-form-label d-flex",children:[v,b&&(0,o.jsx)("div",{className:"invalid ml-1",children:"(*)"})]}),(0,o.jsxs)("div",{className:"col",children:[(0,o.jsxs)("label",(0,a.Z)((0,a.Z)({className:"border form-control d-flex align-items-center w-100"},l),{},{children:[(0,o.jsx)(c(),(0,a.Z)((0,a.Z)({id:f,className:"w-100 valid"},l),{},{dateFormat:"dd/MM/yyyy",selected:l.value&&new Date(l.value)||null,onChange:function(e){return(n=e)&&n.setHours(12,0),void m(n);var n},isClearable:!0,showYearDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:25,showMonthDropdown:!0,maxDate:g,minDate:p,filterDate:N,autoComplete:"off",onKeyDown:function(e){e.preventDefault()}})),(0,o.jsx)("div",{className:"p-2",style:{justifyContent:"space-around"},children:(0,o.jsx)(s.Z,{cursor:"pointer"})})]})),d&&h&&(0,o.jsx)("div",{className:"invalid",children:d})]})]})})}},4653:function(e,n,r){var a=r(885),t=(r(2791),r(5705)),i=r(184);n.Z=function(e){var n=(0,t.U$)(e),r=(0,a.Z)(n,3),s=(r[0],r[1]),l=(s.error,s.touched,s.value),c=r[2].setValue,o=(e.name,e.options),u=e.label,d=e.isrequired,h=e.defaultValue,m=e.disabled;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"mb-3 row",children:[(0,i.jsxs)("label",{className:"col-4 col-form-label d-flex",children:[u,d&&(0,i.jsx)("div",{className:"invalid ml-1",children:"(*)"})]}),(0,i.jsx)("div",{className:"col",children:(0,i.jsxs)("select",{className:"custom-select",onChange:function(e){c(e.target.value)},defaultValue:h,disabled:m,children:[(0,i.jsx)("option",{selected:!0,hidden:!0,children:"Please select type"}),o.map((function(e){var n=e.id,r=e.label,a=e.value;return(0,i.jsx)("option",{value:a,selected:a===l,children:r},n)}))]})})]})})}},9478:function(e,n,r){var a=r(1413),t=r(885),i=(r(2791),r(5705)),s=r(184);n.Z=function(e){var n=(0,i.U$)(e),r=(0,t.Z)(n,3),l=r[0],c=r[1],o=c.error,u=c.touched,d=(r[2],e.label),h=e.isrequired,m=e.notvalidate;e.defaultValue;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"mb-3 row",children:[(0,s.jsxs)("label",{className:"col-4 col-form-label d-flex",children:[d,h&&(0,s.jsx)("div",{className:"invalid ml-1",children:"(*)"})]}),(0,s.jsxs)("div",{className:"col",children:[(0,s.jsx)("input",(0,a.Z)((0,a.Z)({className:"form-control ".concat(u&&o?"is-invalid":m?"":u?"is-valid":"")},l),e)),o&&u&&(0,s.jsx)("div",{className:"invalid",children:o})]})]})})}},5748:function(e,n,r){r.d(n,{AJ:function(){return o},LJ:function(){return i},MT:function(){return d},ZC:function(){return h},b9:function(){return t},ct:function(){return u},dH:function(){return s},dV:function(){return c},oT:function(){return l},qZ:function(){return a}});var a=1,t=2,i=3,s=4,l=0,c="Ch\u01b0a b\u1eaft \u0111\u1ea7u",o="\u0110ang ti\u1ebfn h\xe0nh",u="\u0110\xe3 k\u1ebft th\xfac",d="\u0110\xe3 x\xf3a",h="T\u1ea5t c\u1ea3"},3336:function(e,n,r){r.d(n,{$V:function(){return i},Sh:function(){return s},dK:function(){return t},mP:function(){return a}});var a="0",t="1",i="Nam",s="N\u1eef"},3228:function(e,n,r){r.d(n,{AM:function(){return o},CN:function(){return i},JB:function(){return m},P4:function(){return t},QP:function(){return h},Qz:function(){return l},RK:function(){return s},VK:function(){return d},lE:function(){return f},mF:function(){return c},rM:function(){return u},sq:function(){return a}});var a=1,t=2,i=3,s=4,l=5,c=6,o="S\u01a1 c\u1ea5p",u="Trung c\u1ea5p",d="Cao \u0111\u1eb3ng",h="\u0110\u1ea1i h\u1ecdc",m="Th\u1ea1c s\u0129",f="Ti\u1ebfn s\u0129"},8330:function(e,n,r){r.d(n,{Eq:function(){return i},MT:function(){return u},RG:function(){return l},SP:function(){return a},ZC:function(){return d},ch:function(){return c},oT:function(){return s},sk:function(){return t},z3:function(){return o}});var a=1,t=2,i=3,s=0,l="\u0110ang d\u1ea1y",c="T\u1ea1m ngh\u1ec9",o="Kh\xf4ng c\xf2n d\u1ea1y",u="\u0110\xe3 x\xf3a",d="T\u1ea5t c\u1ea3"},8255:function(e,n,r){r.d(n,{KK:function(){return o},UH:function(){return h},as:function(){return l},uc:function(){return u},w9:function(){return d},zP:function(){return c}});var a=r(5748),t=r(8330),i=r(3336),s=r(3228),l=[{id:1,label:a.dV,value:a.qZ},{id:2,label:a.AJ,value:a.b9},{id:3,label:a.ct,value:a.LJ}],c=[{id:1,label:a.ZC,value:a.oT},{id:2,label:a.dV,value:a.qZ},{id:3,label:a.AJ,value:a.b9},{id:4,label:a.ct,value:a.LJ},{id:5,label:a.MT,value:a.dH}],o=[{id:1,label:t.RG,value:t.SP},{id:2,label:t.ch,value:t.sk},{id:3,label:t.z3,value:t.Eq}],u=[{id:1,label:a.ZC,value:a.oT},{id:2,label:t.RG,value:t.SP},{id:3,label:t.ch,value:t.sk},{id:4,label:t.z3,value:t.Eq}],d=[{id:1,label:i.$V,value:i.mP},{id:2,label:i.Sh,value:i.dK}],h=[{id:1,label:s.AM,value:s.sq},{id:2,label:s.rM,value:s.P4},{id:3,label:s.VK,value:s.CN},{id:4,label:s.QP,value:s.RK},{id:5,label:s.JB,value:s.Qz},{id:6,label:s.lE,value:s.mF}]},1808:function(e,n,r){r.d(n,{Z:function(){return D}});var a=r(5861),t=r(885),i=r(1413),s=r(7757),l=r.n(s),c=r(2791),o=r(5705),u=r(1724),d=r(1523),h=r(9271),m=r(4221),f=r(7782),v=r(9478),b=r(3513),g=r(184),p=function(e){var n=(0,o.U$)(e),r=(0,t.Z)(n,3),a=(r[0],r[1]),i=a.error,s=a.touched,l=a.value,u=r[2].setValue,d=e.name,h=e.options,m=e.label,f=e.isrequired,v=e.defaultValue,b=function(e){u(e.target.value)};return(0,c.useEffect)((function(){v&&u(v)}),[]),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"mb-3 row",children:[(0,g.jsxs)("label",{className:"col-4 col-form-label d-flex",children:[m,f&&(0,g.jsx)("div",{className:"invalid ml-1",children:"(*)"})]}),(0,g.jsxs)("div",{className:"col",children:[(0,g.jsx)("input",{checked:!0,hidden:!0}),h.map((function(e){var n=e.id,r=e.label,a=e.value;return(0,g.jsxs)("div",{className:"form-check form-check-inline",children:[(0,g.jsx)("input",{className:"form-check-input",id:n.toString(),type:"radio",name:d,value:a,onChange:b,checked:a==l}),(0,g.jsx)("label",{className:"form-check-label",htmlFor:n.toString(),children:r})]},n)})),i&&s&&(0,g.jsx)("div",{className:"invalid",children:i})]})]})})},N=r(4653),x=r(700),j=r(8255),Z=r(8330),C=r(3336),q=r(3228),w={firstName:"",lastName:"",address:"",dob:void 0,gender:C.mP,CMND:void 0,phoneNumber:void 0,qualification:q.sq,state:Z.SP},y=u.Ry().shape({firstName:u.Z_().required("M\u1eddi nh\u1eadp t\xean gi\u1ea3ng vi\xean"),lastName:u.Z_().required("M\u1eddi nh\u1eadp t\xean gi\u1ea3ng vi\xean"),address:u.Z_().required("M\u1eddi nh\u1eadp \u0111\u1ecba ch\u1ec9 gi\u1ea3ng vi\xean"),gender:u.Z_().required("M\u1eddi ch\u1ecdn gi\u1edbi t\xednh gi\u1ea3ng vi\xean"),CMND:u.Z_().required("M\u1eddi nh\u1eadp CMND c\u1ee7a gi\u1ea3ng vi\xean").matches(/^[0-9]+$/,"Ch\u1ec9 \u0111\u01b0\u1ee3c nh\u1eadp s\u1ed1").min(12,"CMND ph\u1ea3i g\u1ed3m 12 s\u1ed1").max(12,"CMND ph\u1ea3i g\u1ed3m 12 s\u1ed1"),phoneNumber:u.Z_().required("M\u1eddi nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i gi\u1ea3ng vi\xean").matches(/^[0-9]+$/,"Ch\u1ec9 \u0111\u01b0\u1ee3c nh\u1eadp s\u1ed1").min(10,"s\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i g\u1ed3m 10 s\u1ed1").max(10,"s\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i g\u1ed3m 10 s\u1ed1"),state:u.Rx().required("M\u1eddi ch\u1ecdn tr\u1ea1ng th\xe1i gi\u1ea3ng vi\xean"),qualification:u.Rx().required("M\u1eddi ch\u1ecdn tr\xecnh \u0111\u1ed9 chuy\xean m\xf4n c\u1ee7a gi\u1ea3ng vi\xean"),dob:u.hT().nullable().required("M\u1eddi ch\u1ecdn ng\xe0y sinh").max(new Date(Date.now()-5679936e5-864e5),"Gi\u1ea3ng vi\xean \u0111ang c\xf3 ng\xe0y sinh <= 18 tu\u1ed5i, xin h\xe3y ch\u1ecdn ng\xe0y kh\xe1c").min(new Date(Date.now()-1893456e6),"Gi\u1ea3ng vi\xean \u0111ang c\xf3 ng\xe0y sinh > 60 tu\u1ed5i, xin h\xe3y ch\u1ecdn ng\xe0y kh\xe1c")}),D=function(e){var n=e.initialTeacherForm,r=void 0===n?(0,i.Z)({},w):n,s=(0,c.useState)(!1),u=(0,t.Z)(s,2),Z=u[0],C=u[1],q=!!r.id,D=(0,h.k6)(),M=function(e,n){console.log("result"),console.log(e),console.log("message"),console.log(n),""!=n?(m.fn.success("".concat(q?"C\u1eadp nh\u1eadt":"Th\xeam"," gi\u1ea3ng vi\xean ").concat(n," th\xe0nh c\xf4ng"),"".concat(q?"C\u1eadp nh\u1eadt":"Th\xeam"," th\xe0nh c\xf4ng"),2e3),setTimeout((function(){D.push(f.nO)}),1e3)):m.fn.error(n,"Th\xeam kh\xf4ng th\xe0nh c\xf4ng",2e3)},k=function(){var e=(0,a.Z)(l().mark((function e(n){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("update teacher async"),e.next=3,(0,x.y4)(r.id,n.formValues);case 3:(a=e.sent)&&M(!0,a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),T=function(){var e=(0,a.Z)(l().mark((function e(n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("create teacher async"),e.next=3,(0,x.a4)(n.formValues);case 3:(r=e.sent)&&M(!0,r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,g.jsx)(o.J9,{initialValues:r,enableReinitialize:!0,validationSchema:y,onSubmit:function(e){C(!0),setTimeout((function(){q?k({handleResult:M,formValues:e}):T({handleResult:M,formValues:e}),C(!1)}),1e3)},children:function(e){var n=e.isValid;return(0,g.jsxs)(o.l0,{className:"intro-y col-lg-10 col-10",children:[(0,g.jsx)(v.Z,{id:"firstName",name:"firstName",label:"T\xean gi\u1ea3ng vi\xean",isrequired:"true"}),(0,g.jsx)(v.Z,{id:"lastName",name:"lastName",label:"H\u1ecd gi\u1ea3ng vi\xean",isrequired:"true"}),(0,g.jsx)(v.Z,{id:"address",name:"address",label:"\u0110\u1ecba ch\u1ec9 gi\u1ea3ng vi\xean",isrequired:"true"}),(0,g.jsx)(v.Z,{id:"CMND",name:"CMND",label:"CMND",type:"string",isrequired:"true"}),(0,g.jsx)(v.Z,{id:"phoneNumber",name:"phoneNumber",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:",type:"string",isrequired:"true"}),(0,g.jsx)(b.Z,{id:"dob",name:"dob",label:"Ng\xe0y sinh",isrequired:"true"}),(0,g.jsx)(p,{name:"gender",label:"Gi\u1edbi t\xednh",isrequired:!0,options:j.w9,defaultValue:r.gender}),(0,g.jsx)(N.Z,{id:"qualification",name:"qualification",label:"Tr\xecnh \u0111\u1ed9 chuy\xean m\xf4n",options:j.UH,isrequired:!0}),(0,g.jsx)(N.Z,{id:"state",name:"state",label:"T\xecnh tr\u1ea1ng gi\u1ea3ng vi\xean",options:j.KK,isrequired:!0,disabled:!q}),(0,g.jsx)("div",{className:"d-flex",children:(0,g.jsxs)("div",{className:"ml-auto",children:[(0,g.jsxs)("button",{className:"btn btn-danger",type:"submit",disabled:!n||Z,children:["Save"," ",Z&&(0,g.jsx)("img",{src:"/oval.svg",alt:"",className:"w-4 h-4 ml-2 inline-block"})]}),(0,g.jsx)(d.rU,{to:f.nO,className:"btn btn-outline-secondary ml-2",children:"Cancel"})]})})]})}})}},700:function(e,n,r){r.d(n,{a4:function(){return v},jS:function(){return m},y4:function(){return g}});var a=r(1413),t=r(5861),i=r(7757),s=r.n(i),l=r(6724),c=r(7586),o=r(8238),u=r(8330),d=(0,l.hJ)(c.db,"users"),h=(0,o.v0)();function m(e){return f.apply(this,arguments)}function f(){return(f=(0,t.Z)(s().mark((function e(n){var r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,l.PL)(d),a=void 0,n.states?n.states.length>0&&!n.states.some((function(e){return e===u.oT}))&&n.search?a=(0,l.IO)(d,(0,l.ar)("role","==",1),(0,l.ar)("state","in",n.states),(0,l.ar)("name",">=",n.search),(0,l.ar)("name","<=",n.search+"\uf8ff"),(0,l.Xo)(n.sortColumn,n.sortOrder)):n.states.length>0&&!n.states.some((function(e){return e===u.oT}))&&!n.search?a=(0,l.IO)(d,(0,l.ar)("role","==",1),(0,l.ar)("state","in",n.states),(0,l.Xo)(n.sortColumn,n.sortOrder)):0==n.states.length&&n.search?a=(0,l.IO)(d,(0,l.ar)("role","==",1),(0,l.ar)("lastName",">=",n.search),(0,l.ar)("lastName","<=",n.search+"\uf8ff"),(0,l.Xo)(n.sortColumn,n.sortOrder)):0!=n.states.length||n.search||(a=(0,l.IO)(d,(0,l.ar)("role","==",1),(0,l.Xo)(n.sortColumn,n.sortOrder))):a=n.search?(0,l.IO)(d,(0,l.ar)("role","==",1),(0,l.ar)("lastName",">=",n.search),(0,l.ar)("lastName","<=",n.search+"\uf8ff"),(0,l.Xo)(n.sortColumn,n.sortOrder)):(0,l.IO)(d,(0,l.ar)("role","==",1),(0,l.Xo)(n.sortColumn,n.sortOrder)),r=(0,l.PL)(a),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return b.apply(this,arguments)}function b(){return(b=(0,t.Z)(s().mark((function e(n){var r,t,i,u,m,f,v,b,g,p,N,x,j,Z,C;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",t=void 0,i=(0,l.IO)(d,(0,l.Xo)("createdDate","desc"),(0,l.b9)(1)),u=(0,l.PL)(i),console.log("latestUser",u),u.then((function(e){t=e.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{id:e.id})}))})),e.next=8,u;case 8:return console.log("tmp",t),m=t.length>0?parseInt(t[0].email.substring(2,7)):parseInt("00000"),f=new Date(n.dob.toUTCString()),v=("0000"+(m+1)).slice(-5),b="gv".concat(v),g="".concat(b,"@gmail.com"),p="".concat(b,"@").concat(("0"+f.getDate()).slice(-2)).concat(("0"+f.getMonth()+1).slice(-2)).concat(("0"+f.getYear()).slice(-2)),e.prev=15,e.next=18,(0,o.Xb)(h,g,p);case 18:N=e.sent,x=N.user.uid,j={uid:x,email:g,password:p,firstName:n.firstName,lastName:n.lastName,address:n.address,dob:new Date(n.dob),createdDate:Date.now(),gender:n.gender,CMND:n.CMND,phoneNumber:n.phoneNumber,numberOfLessons:0,numberOfAbsences:0,role:1,qualification:parseInt(n.qualification),state:parseInt(n.state)},console.log(j),Z=(0,l.JU)(c.db,"users",x),(0,l.pl)(Z,j),r=n.firstName,e.next=33;break;case 27:e.prev=27,e.t0=e.catch(15),C=e.t0.toString(),console.log(C),"FirebaseError: Firebase: Error (auth/invalid-email)."===C&&(r="Email kh\xf4ng h\u1ee3p l\u1ec7!"),"FirebaseError: Firebase: Password should be at least 6 characters (auth/weak-password)."===C&&(r="M\u1eadt kh\u1ea9u \xedt nh\u1ea5t 6 k\xfd t\u1ef1");case 33:return console.log(r),e.abrupt("return",r);case 35:case"end":return e.stop()}}),e,null,[[15,27]])})))).apply(this,arguments)}function g(e,n){var r=(0,l.JU)(c.db,"users",e);if(console.log(r),(0,l.r7)(r,{firstName:n.firstName,lastName:n.lastName,address:n.address,dob:new Date(n.dob),gender:n.gender,CMND:n.CMND,phoneNumber:n.phoneNumber,qualification:n.qualification,state:parseInt(n.state)}))return n.firstName}}}]);
//# sourceMappingURL=1.e48126b3.chunk.js.map